
# React Router
## Router
다른 주소에 따라 다른 뷰를 보여주는 것. React에는 자체적으로 내장된 라우팅 기능이 없기 때문에 라이브러리를 받아서 하면 된다. 공식적인 라우팅 라이브러리는 없고, react-router가 가장 많이 사용되고 있다고 한다.

### react-router
클라이언트 사이드에서 이루어지는 라우팅을 간단하게 해주는 라이브러리. 여러 화면으로 구성된 웹 어플리케이션을 만들기 위해서는 필수! 라고 한다.

> 서버 쪽에서 랜더링을 하는 것은 그만큼 서버 자원을 사용하는 것이고(costly), 불필요한 트래픽이 낭비되기 때문에 라이브러리나 프레임워크를 사용해서 뷰 랜더링을 유저의 브라우저가 담당하도록 한다.

---

## URL query
---
## Link, NavLink
앱 내에서 다른 라우트로 이동할 때, \<a>태그를 사용하면 화면을 새로고침 해버린다. 새로고침 없이 다른 라우트로의 화면전환을 위해서는 Link 컴포넌트를 사용해야 한다.

### Link
Link 컴포넌트를 사용하면 페이지를 새로 불러오는 것을 막고, 원하는 라우트로 화면을 전환해준다.

	<Link to="/">Home</Link>

이 컴포넌트에 전달되는 props는 컴포넌트 내부의 DOM에도 전달되기 때문에, 일반 DOM element에 설정하는 것처럼 className, style 혹은 onClick 등의 이벤트를 전달할 수 있다.(이해 x)

### NavLink
Link와 유사한데, 설정한 URL이 활성화 되면, 특정 스타일이나 클래스를 지정할 수 있다. Route 지정처럼 중첩될 수 있는 Route들은 exact로 설정해야한다. 활성화 되었을 때 특정 클래스를 설정하고 싶으면 activeClassName을 설정하면 된다.
> 클릭되었을 때, 스타일을 다르게 해서 강조할 때 쓰이는 건가?

---

## 라우트의 중첩
최상위 라우트로부터 컴포넌트 전달받을 필요가 없고, 라우트에서 보여주는 컴포넌트 내부에 또 Route를 사용할 수 있다. (이해가.. 잘..;)

---

## 라우터의 props

* **history** : 이 객체를 통해서 push, replace를 이용해 다른 경로로 이동하거나 앞, 뒤 페이지로 전환할 수 있음.
* **location** : 현재 경로에 대한 정보를 가지고 있으며, URL 쿼리(/about?foo=bar 형식) 정보도 가지고 있음.
* **match** : 어떤 라우트에 매칭되었는지에 대한 정보와 params(/about/:name 형식) 정보를 가지고 있음.

### 헷갈리는 props들
1. location.pathname
현재 브라우저상의 위치. 어떤 라우트에서 랜더링하던간에 동일한 값.

2. match.path, match.url
match와 관련된 값은 설정한 Route와 직접적으로 관계가 있는 값만 보여준다.
	* id 값을 설정하지 않은 경우(Posts의 라우트): path, url 모두 라우트에서 설정한 path대로 나옴.
	* id 값을 지정한 경우: path는 라우트에서 설정한 그대로 나오지만, url의 경우는 뒤에 id 값이 달려서 나온다.

---

## 인라인 랜더링

	<Route exact path={match.url} render={()=>(
        <h3>Please Select Any Post</h3>
      )} />

원래 원하는 component를 쓰는 자리에 render를 사용해서 바로 랜더링해줄 수 있다.

---

## Code Splitting

SPA의 경우, 앱의 규모가 커지면 자바스크립트 파일 사이즈가 너무 커진다는 단점을 가지고 있다. 유저가 실제 방문하지 않을 가능성이 있는 페이지와 관련된 랜더링 스크립트도 불러오기 때문이다. 이로 인해 발생하는 트래픽과 로딩 속도 문제를 해결하기 위해서 Code Splitting이 필요하다. Code Splitting이란 필요에 따라서 번들 파일을 여러 개의 파일로 분리시키는 것을 말한다.

### Vendor
코드 스플리팅을 윟서는 Vendor 설정을 해야한다. 프로젝트에서 전역적으로 사용되는 라이브러리들을 Vendor 파일이라고 부른다. react, react-dom, redux, react-redux, react-router-dom, styled-components 등의 라이브러리처럼 프로젝트 전체에서 꼭 필요한 라이브러리를 말한다.

### Chunk
코드를 비동기적으로 불러오면 웹팩에서 처리를 하면서 코드를 분리시키는데, 이를 청크(chunk)라고 한다.
